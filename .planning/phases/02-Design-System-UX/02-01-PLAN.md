---
phase: 02-Design-System-UX
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/button.tsx
  - src/components/ui/input.tsx
  - src/components/ui/label.tsx
  - src/components/ui/card.tsx
  - src/components/ui/badge.tsx
  - docs/flow-diagrams/vendor-registration-flow.md
  - docs/flow-diagrams/organizer-inquiry-flow.md
  - tailwind.config.ts
autonomous: true
requirements: []

must_haves:
  truths:
    - "shadcn/ui CLI is installed and working"
    - "Flow diagrams document current state and optimized design for both critical flows"
    - "The Bean Route color palette (primary #F5C842, brown palette) is validated in Tailwind config"
  artifacts:
    - path: "src/components/ui/button.tsx"
      provides: "shadcn/ui Button component with TBR brand variants"
      exports: ["Button", "buttonVariants"]
    - path: "src/components/ui/input.tsx"
      provides: "shadcn/ui Input component with mobile-first sizing"
      exports: ["Input"]
    - path: "src/components/ui/label.tsx"
      provides: "shadcn/ui Label component for form accessibility"
      exports: ["Label"]
    - path: "src/components/ui/card.tsx"
      provides: "shadcn/ui Card component and subcomponents"
      exports: ["Card", "CardHeader", "CardTitle", "CardDescription", "CardContent"]
    - path: "src/components/ui/badge.tsx"
      provides: "shadcn/ui Badge component with TBR variants"
      exports: ["Badge", "badgeVariants"]
    - path: "docs/flow-diagrams/vendor-registration-flow.md"
      provides: "Vendor registration flow diagram (current state + optimized design)"
      min_lines: 50
    - path: "docs/flow-diagrams/organizer-inquiry-flow.md"
      provides: "Event organizer inquiry flow diagram (current state + optimized design)"
      min_lines: 50
  key_links:
    - from: "tailwind.config.ts"
      to: "src/lib/design-tokens.ts"
      via: "color theme extension"
      pattern: "colors.*primary|brown|neutral"
    - from: "src/components/ui/button.tsx"
      to: "tailwind.config.ts"
      via: "buttonVariants using TBR colors"
      pattern: "bg-primary|text-brown|border-neutral"
---

<objective>
Establish shadcn/ui design system foundation and create comprehensive flow diagrams for critical user journeys.

Purpose: Set up shadcn/ui infrastructure, install core components with The Bean Route brand customization (primary #F5C842, brown palette), and document current-state vs optimized-state flow diagrams for vendor registration and event organizer inquiry flows. This foundation enables parallel component migration and flow optimization in subsequent plans.

Output: Working shadcn/ui installation + 5 core components (Button, Input, Label, Card, Badge) + 2 comprehensive flow diagrams
</objective>

<execution_context>
@/Users/toshioj/.claude/get-shit-done/workflows/execute-plan.md
@/Users/toshioj/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-Design-System-UX/02-CONTEXT.md
@.planning/phases/02-Design-System-UX/02-RESEARCH.md
@src/lib/design-tokens.ts
@tailwind.config.ts
@src/components/ui/Button.tsx
@src/components/ui/Input.tsx
@src/components/ui/Card.tsx
@src/components/ui/Badge.tsx
</context>

<tasks>

<task type="auto">
  <name>Install shadcn/ui and add core components</name>
  <files>
    src/components/ui/button.tsx
    src/components/ui/input.tsx
    src/components/ui/label.tsx
    src/components/ui/card.tsx
    src/components/ui/badge.tsx
    components.json
  </files>
  <action>
    Initialize shadcn/ui using the CLI tool (per user decision - use CLI for fastest setup):
    ```bash
    npx shadcn-ui@latest init
    ```

    During init, select:
    - Style: Default
    - Base color: Neutral (will customize with TBR colors after)
    - CSS variables: No (per research recommendation - defer to Phase 5)
    - Tailwind config: Yes (use existing tailwind.config.ts)
    - Import alias: @/* (already configured in tsconfig.json)

    After init completes, add core components:
    ```bash
    npx shadcn-ui@latest add button
    npx shadcn-ui@latest add input
    npx shadcn-ui@latest add label
    npx shadcn-ui@latest add card
    npx shadcn-ui@latest add badge
    ```

    Customize Button component variants to use The Bean Route brand colors:
    - Edit `src/components/ui/button.tsx`
    - Modify `buttonVariants` to add "primary" variant using #F5C842 (bg-primary-400)
    - Keep existing shadcn variants (default, secondary, destructive, outline, ghost, link)
    - Add TBR primary variant:
      ```typescript
      primary: "bg-primary-400 text-brown-700 hover:bg-primary-500 focus-visible:ring-primary-400"
      ```

    Customize Badge component variants:
    - Edit `src/components/ui/badge.tsx`
    - Add "verified" variant for verified vendors: `bg-green-100 text-green-800 border-green-200`
    - Add "pending" variant for pending status: `bg-yellow-100 text-yellow-800 border-yellow-200`

    Ensure Input component has mobile-friendly sizing (min-height: 48px for touch targets):
    - Verify `src/components/ui/input.tsx` has class: `h-12` (48px) or add it if missing

    Note: Using Tailwind config approach (not CSS variables) per research recommendation for light-mode-only Phase 2.
  </action>
  <verify>
    ```bash
    # Verify shadcn components installed
    ls -la src/components/ui/button.tsx src/components/ui/input.tsx src/components/ui/label.tsx src/components/ui/card.tsx src/components/ui/badge.tsx

    # Verify components.json created
    cat components.json

    # Check Button component has TBR primary variant
    grep -A 5 "variant.*primary" src/components/ui/button.tsx

    # Verify Input has mobile touch target height
    grep "h-12\|min-h-\[48px\]" src/components/ui/input.tsx
    ```
  </verify>
  <done>
    - shadcn/ui CLI initialized successfully
    - 5 core components added to src/components/ui/ (button, input, label, card, badge)
    - Button component has "primary" variant using bg-primary-400 (#F5C842)
    - Badge component has "verified" and "pending" variants
    - Input component has min-height 48px for mobile touch targets
    - components.json exists and is configured
  </done>
</task>

<task type="auto">
  <name>Validate Tailwind color palette and create flow diagrams</name>
  <files>
    tailwind.config.ts
    docs/flow-diagrams/vendor-registration-flow.md
    docs/flow-diagrams/organizer-inquiry-flow.md
  </files>
  <action>
    **Part 1: Validate Tailwind config has TBR colors**

    Read `tailwind.config.ts` and verify The Bean Route color palette is present:
    - Primary color: #F5C842 (and shades: 50, 100, 200, 300, 400, 500, 600)
    - Brown palette: #3B2A1A and shades
    - Neutral palette: #1A1A1A and shades

    If colors are missing, extend Tailwind theme with values from `src/lib/design-tokens.ts`:
    ```typescript
    theme: {
      extend: {
        colors: {
          primary: {
            50: '#FEF9E7',
            400: '#F5C842',  // Main brand color
            500: '#E8B430',  // Hover state
            // ... other shades
          },
          brown: {
            700: '#3B2A1A',
            // ... other shades
          },
          // ... neutral palette
        }
      }
    }
    ```

    **Part 2: Create vendor registration flow diagram**

    Create `docs/flow-diagrams/vendor-registration-flow.md` with:

    1. **Current State Analysis** (mobile pain points):
       - Landing page → Vendor directory → "Get Listed" CTA
       - Registration form steps (business info, service details, contact info)
       - Mobile issues: Touch targets too small, form layout stacks poorly, validation errors hidden by keyboard
       - Post-submission: No success confirmation, unclear approval timeline, no next steps guidance

    2. **Optimized Design** (shadcn/ui + mobile-first):
       - Landing page improvements: Clear vendor value prop, social proof section, prominent CTA
       - Registration form: Single-column mobile layout, 48px+ touch targets, inline validation visible without scrolling
       - Success state: Immediate confirmation modal with approval timeline (48-72 hrs) and next steps (complete profile, await approval email)
       - Visual flow diagram using Mermaid syntax showing before/after states

    3. **Mobile-specific fixes**:
       - Form field spacing: 16px between fields (prevent misclicks)
       - Input sizing: Full-width on mobile, 2-column grid on tablet+
       - Error messages: Display immediately below fields, large enough to read (text-sm, red text)
       - Submit button: Full-width on mobile, fixed to bottom on scroll (sticky footer)

    **Part 3: Create organizer inquiry flow diagram**

    Create `docs/flow-diagrams/organizer-inquiry-flow.md` with:

    1. **Current State Analysis** (mobile pain points):
       - Landing page → Vendor directory → Vendor detail page → "Request Quote" modal
       - Inquiry modal: Event details form (date, guest count, location, special requirements)
       - Mobile issues: Modal too wide (horizontal scroll), input fields too small, contact form cluttered
       - Post-submission: No confirmation, unclear next steps

    2. **Optimized Design** (shadcn/ui Dialog + mobile-first):
       - Modal sizing: max-w-md on mobile (calc(100% - 2rem)), max-w-lg on tablet
       - Form layout: Single-column, grouped related fields (event details → contact info)
       - Visual hierarchy: Step indicator (1/2, 2/2) for multi-step forms
       - Success state: In-modal confirmation with "What happens next" timeline (vendor notified, response within 24-48 hrs)
       - Visual flow diagram using Mermaid syntax showing before/after states

    3. **Mobile-specific fixes**:
       - Modal content: Scrollable (max-h-[60vh]), sticky header/footer
       - Date/time pickers: Mobile-friendly (use native inputs on mobile, custom on desktop)
       - Touch targets: All buttons/inputs ≥48px height
       - Keyboard handling: Form scrolls to keep active field + error message visible when keyboard opens

    Both diagrams should include:
    - Mermaid flowchart syntax for visual representation
    - Screenshots of current mobile issues (or descriptions if screenshots not available)
    - Acceptance criteria for each optimized step
    - Links to relevant components (SimpleBookingModal.tsx, vendor registration form)
  </action>
  <verify>
    ```bash
    # Verify Tailwind config has TBR colors
    grep -A 10 "colors:" tailwind.config.ts | grep -E "primary|brown|neutral"

    # Verify flow diagrams created
    ls -la docs/flow-diagrams/vendor-registration-flow.md docs/flow-diagrams/organizer-inquiry-flow.md

    # Check diagrams have required sections
    grep -E "Current State|Optimized Design|Mobile-specific" docs/flow-diagrams/vendor-registration-flow.md
    grep -E "Current State|Optimized Design|Mobile-specific" docs/flow-diagrams/organizer-inquiry-flow.md

    # Verify Mermaid diagrams present
    grep "```mermaid" docs/flow-diagrams/vendor-registration-flow.md
    grep "```mermaid" docs/flow-diagrams/organizer-inquiry-flow.md
    ```
  </verify>
  <done>
    - Tailwind config validated: primary, brown, neutral colors present and match design-tokens.ts
    - vendor-registration-flow.md created with current state analysis, optimized design, and mobile fixes
    - organizer-inquiry-flow.md created with current state analysis, optimized design, and mobile fixes
    - Both diagrams include Mermaid flowcharts and acceptance criteria
    - Flow diagrams reference specific components (SimpleBookingModal.tsx, vendor registration form)
  </done>
</task>

</tasks>

<verification>
- shadcn/ui CLI installed and working (components.json exists)
- 5 core components added: Button, Input, Label, Card, Badge
- Button component has "primary" variant using TBR brand color (#F5C842)
- Badge component has "verified" and "pending" variants
- Input component has 48px min-height for mobile touch targets
- Tailwind config validated: TBR color palette (primary, brown, neutral) present
- Flow diagram created for vendor registration (current state + optimized design + mobile fixes)
- Flow diagram created for organizer inquiry (current state + optimized design + mobile fixes)
- Both diagrams include Mermaid flowcharts and mobile-specific acceptance criteria
</verification>

<success_criteria>
1. Run `npx shadcn-ui@latest --help` → CLI responds (installed successfully)
2. All 5 component files exist in `src/components/ui/` and export correct interfaces
3. Button component renders with variant="primary" using bg-primary-400
4. Input component has h-12 class (48px height)
5. Tailwind config extends theme.colors with primary/brown/neutral palettes
6. Both flow diagrams are comprehensive (50+ lines each) with Mermaid diagrams
7. Flow diagrams document specific mobile pain points and optimized solutions
</success_criteria>

<output>
After completion, create `.planning/phases/02-Design-System-UX/02-01-SUMMARY.md`
</output>
